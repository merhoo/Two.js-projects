<!DOCTYPE HTML>
<html>
	<body>
		<canvas id="myCanvas" width="640" height="360" style="border:1px solid #c3c3c3;"></canvas>
		<script type="text/javascript">
		    function setup() {
				// put setup code here
				//createCanvas(window.innerWidth, window.innerHeight);
				createCanvas(640, 360);
			}

			function draw() {
				loadPixels();
				var n = (mouseX * 10.0) / width;
				var w = 16.0;
				var h = 16.0;
				var dx = w/width;
				var dy = h/height;
				var x = -w/2;
				for (var i = 0; i < width; i++) {
					var y = -h/2;
					for (var j = 0; j < height; j++) {
						var r = sqrt((x*x) + (y*y));
						var theta = atan2(y, x);
						//polar
						var val = sin(n*cos(r) + 5*theta);
						//var val = cos(r);
						//var val = sin(theta);
						pixels[i+j*width] = color((val + 1.0) * 255.0/2.0);
				  y+=dy;
					}
				x += dx;
				}
				updatePixels();
			}
	</script>
	</body>
</html>